<!-- Services -->
{% if site.locale and site.locale != "" and site.locale != nil %}
  <section class="bg-light page-section" id="{{ site.data.sitetext[site.locale].services.section | default: "services" }}">
    <div class="container">
	
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading">{{ site.data.sitetext[site.locale].services.title | default: "Services" }}</h2>
          {% if site.data.sitetext[site.locale].services.text %}
		  <h3 class="section-subheading text-muted">{{ site.data.sitetext[site.locale].services.text }}</h3>
		  {% endif %}
        </div>
      </div>
	  
      <div class="row" id="scrollContainer">
        <div class="scroll-disabler"></div>
        {% for service in site.data.sitetext[site.locale].services.list %}
          <div id="scrollElement" class="col-lg-3 col-md-4 col-sm-6 col-6 text-center">
            <span class="fa-stack fa-3x icon-responsive">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="{{ service.icon | default: 'fas fa-shopping-cart' }} fa-stack-1x fa-inverse"></i>
            </span>
            <h4 id="serviceTitle" class="service-heading">{{ service.title | markdownify }}</h4>
            {% if service.desc %}
              <div class="text-muted">{{ service.desc | markdownify }}</div>
            {% endif %}
          </div>
        {% endfor %}
      </div>  
	  
    </div>
  </section>
{% else %}
<section class="page-section" id="{{ site.data.sitetext.services.section | default: "services" }}">
  <div class="container">

    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">{{ site.data.sitetext.services.title | default: "Services" }}</h2>
        {% if site.data.sitetext.services.text %}
    <h3 class="section-subheading text-muted">{{ site.data.sitetext.services.text }}</h3>
    {% endif %}
      </div>
    </div>
  
    <div class="row" id="scrollContainer">
      <div class="scroll-disabler"></div>
      {% for service in site.data.sitetext[site.locale].services.list %}
        <div id="scrollElement" class="col-lg-3 col-md-4 col-sm-6 col-6 text-center">
          <span class="fa-stack fa-3x icon-responsive">
            <i class="fas fa-circle fa-stack-2x text-primary"></i>
            <i class="{{ service.icon | default: 'fas fa-shopping-cart' }} fa-stack-1x fa-inverse"></i>
          </span>
          <h4 id="serviceTitle" class="service-heading">{{ service.title | markdownify }}</h4>
          {% if service.desc %}
            <div class="text-muted">{{ service.desc | markdownify }}</div>
          {% endif %}
        </div>
      {% endfor %}
    </div>
    
  
  </div>
</section>
{% endif %}
<!-- End Services -->

<script>
  const scrollContainer = document.getElementById('scrollContainer');
  const scrollElements = scrollContainer.querySelectorAll('#scrollElement');

  function isElementInViewport(el) {
    const rect = el.getBoundingClientRect();
    return rect.right > 0;
  }

  window.addEventListener('load', () => {
    const scrollWidth = scrollContainer.scrollWidth;

    setInterval(() => {
      const firstElement = scrollContainer.querySelector('#scrollElement');

      if (!isElementInViewport(firstElement)) {
        scrollContainer.appendChild(firstElement); // Mueve el primer elemento al final
        scrollContainer.scrollLeft -= firstElement.offsetWidth; // Ajusta la posici√≥n del scroll
      }

      scrollContainer.scrollLeft += 1; // Realiza un scroll constante
    }, 15);
  });

</script>